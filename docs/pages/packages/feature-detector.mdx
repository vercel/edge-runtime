import { Callout } from 'nextra-theme-docs'
import { Tabs, Tab } from '../../components/tabs'

# Edge Runtime Code analysis utilities

The **@edge-runtime/feature-detector** package contains utilities to analyze code running on the edge and its used low-level APIs.

It leverages the excellent [ts-morph](https://ts-morph.com/) package, which is a wrapper around TypeScript compiler API to navigate its Abstract Syntaxt Tree (AST).

It can analyse JavaScript and TypeScript code.

<Callout type='warning' emoji='⚠️'>
  Please note this is an alpha version.
</Callout>

## Installation

<Tabs items={['npm', 'yarn', 'pnpm']} storageKey='selected-pkg-manager'>
  <Tab>```sh npm install @edge-runtime/feature-detector --save ```</Tab>
  <Tab>```sh yarn add @edge-runtime/feature-detector ```</Tab>
  <Tab>```sh pnpm install @edge-runtime/feature-detector --save ```</Tab>
</Tabs>

This package includes built-in TypeScript support.

## Usage

Here is an example of checking whether a file's default export is a function matching the edge signature, such as:

```js
export default function () {
  return Response.json({ message: 'hello world!' })
}
```

```ts
import { hasEdgeSignature } from '@edge-runtime/feature-detector'

const sourceFilePath = './test.js' // could be TypeScript as well. Must be in current working directory

if (hasEdgeSignature(sourceFilePath)) {
  console.log(`${sourcefilePath} can run on the edge``)
}
```

## API

<Callout type='warning' emoji='⚠️'>
  Work in progress
</Callout>
